{"version":3,"sources":["../node_modules/ethan-reusable-components/dist/esm lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","utility/Constants.js","components/Dashboard.js","utility/DateTimeHelper.js","hooks/useFetch.js","pages/Homepage.js","pages/ReviewDetails.js","pages/Category.js","components/SiteHeader.js","App.js","index.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","URL","process","REACT_APP_STRAPI_URL","Homepage","props","className","data","review","src","attributes","image","url","categories","category","index","name","title","body","substring","to","avatar","width","height","author","isoTimestamp","updatedAt","Date","toLocaleString","split","useFetch","useState","setData","error","setError","loading","setLoading","useEffect","fetchData","fetch","res","json","Dashboard","ReviewDetails","comments","setComments","useParams","handleCommentSubmission","preventDefault","form","currentTarget","elements","method","headers","JSON","stringify","value","message","status","postedComment","reset","console","log","maxstars","rating","color","class","length","comment","toString","slice","join","onSubmit","placeholder","required","type","Category","query","require","populate","reviews","encodeValuesOnly","SiteHeader","App","exact","path","ReactDOM","render","StrictMode","document","getElementById","applyPolyfills","defineCustomElements","window"],"mappings":"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","file":"static/js/main.33e32334.chunk.js","sourcesContent":["var map = {\n\t\"./my-rating-component.entry.js\": [\n\t\t78,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 76;\nmodule.exports = webpackAsyncContext;","export const URL = process.env.REACT_APP_STRAPI_URL;","import { Link } from 'react-router-dom';\r\nimport { URL } from '../utility/Constants';\r\nimport { getDateFromISO } from '../utility/DateTimeHelper';\r\n\r\nconst Homepage = (props) => {\r\n    return (\r\n        <div className=\"container\">\r\n            {props.data.map(review => (\r\n                <div key={review.id} className=\"card\">\r\n                    <div className=\"card__header\">\r\n                        <img src={`${URL}${review.attributes.image.data.attributes.url}`}/>\r\n                    </div>\r\n                    <div className=\"card__body\">\r\n                        <div>\r\n                            {review.attributes.categories.data.map((category, index) => <span key={index} className=\"tag tag-red\">{category.attributes.name}</span>)}\r\n                        </div>\r\n                        <h4>{review.attributes.title}</h4>\r\n                        <p>{review.attributes.body.substring(0, 200)}...</p>\r\n                        <Link to={`/details/${review.id}`}>Read more</Link>\r\n                    </div>\r\n                    <div className=\"card__footer\">\r\n                        <div className=\"user\">\r\n                            <img src={`${URL}${review.attributes.avatar.data.attributes.url}`} className=\"user__image\" width=\"40\" height=\"40\" />\r\n                            <div className=\"user__info\">\r\n                                <h5>{review.attributes.author}</h5>\r\n                                <small>{getDateFromISO(review.attributes.updatedAt)}</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Homepage;","export const getDateFromISO = (isoTimestamp) => {\r\n    return new Date(isoTimestamp).toLocaleString().split(',')[0]\r\n}","import { useEffect, useState } from \"react\"\r\n\r\nconst useFetch = (url) => {\r\n  const [data, setData] = useState(null)\r\n  const [error, setError] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true)\r\n      \r\n      try {\r\n        const res = await fetch(url)\r\n        const json = await res.json()\r\n\r\n        setData(json.data);\r\n        setLoading(false)\r\n      } catch (error) {\r\n        setError(error)\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchData();\r\n  }, [url])\r\n\r\n  return { loading, error, data }\r\n}\r\n\r\nexport default useFetch","import Dashboard from \"../components/Dashboard\"\r\nimport useFetch from '../hooks/useFetch'\r\nimport { URL } from '../utility/Constants'\r\n\r\nexport default function Homepage() {\r\n\r\n  const { loading, error, data } = useFetch(`${URL}/api/reviews?populate=*`)\r\n\r\n  if (loading) return <p>Loading...</p>\r\n\r\n  if (error) return <p>Error :(</p>\r\n\r\n  return <Dashboard data={data} />\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport useFetch from '../hooks/useFetch'\r\nimport { ReactMarkdown } from 'react-markdown/lib/react-markdown'\r\nimport { URL } from '../utility/Constants';\r\n\r\nexport default function ReviewDetails() {\r\n  const [comments, setComments] = useState([]);\r\n  const { id } = useParams()\r\n  const { loading, error, data } = useFetch(`${URL}/api/reviews/${id}?populate=*`)\r\n\r\n  useEffect(() => {\r\n    if (data && data.attributes.comments)\r\n      setComments(data.attributes.comments.data);\r\n  }, [data])\r\n\r\n  if (loading) return <p>Loading...</p>\r\n  if (error) return <p>Error :(</p>\r\n\r\n  let handleCommentSubmission = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const form = e.currentTarget;\r\n      const elements = form.elements;\r\n      let res = await fetch(`${URL}/api/comments`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          data: {\r\n            author: elements.name.value,\r\n            message: elements.message.value,\r\n            review: id,\r\n          }\r\n        }),\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        const postedComment = await res.json();\r\n        setComments([...comments, postedComment.data]);\r\n        form.reset();\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"content-area\">\r\n\r\n      <div className=\"blog-post-main-image\">\r\n        <img className=\"post-image img-responsive\" src={`${URL}${data.attributes.image.data.attributes.url}`} />\r\n      </div>\r\n\r\n      <div className=\"blog-post-content\">\r\n        <h1>{data.attributes.title}</h1>\r\n\r\n        <div className=\"entry-meta\">\r\n          <span><i className=\"fa fa-fw fa-clock\"></i>{`${new Date(data.attributes.updatedAt)}`}</span>\r\n          <span className=\"divider\">|</span>\r\n          <span><i className=\"fa fa-fw fa-user\"></i>{data.attributes.author}</span>\r\n        </div>\r\n\r\n        <div className=\"entry-meta\">\r\n          Rating: <my-rating-component maxstars=\"10\" rating={data.attributes.rating} color=\"red\" class=\"ratings\"></my-rating-component>\r\n        </div>\r\n\r\n        <ReactMarkdown>{data.attributes.body}</ReactMarkdown>\r\n\r\n        <div className=\"post-comments\">\r\n          <div className=\"block-title\">\r\n            <h3>Comments ({comments.length})</h3>\r\n          </div>\r\n\r\n          {comments.map((comment, index) =>\r\n            <div key={index} className=\"media\">\r\n              <div className=\"media-body\">\r\n                <div className=\"media-heading\">{comment.attributes.author}<span className=\"divider\">|</span> <span className=\"light-gray\">{`${new Date(comment.attributes.updatedAt).toString().split(' ').slice(0, 5).join(' ')}`}</span>\r\n                </div>\r\n                <p>{comment.attributes.message}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"post-comment-add\">\r\n          <div className=\"block-title\">\r\n            <h3>Leave a Comment</h3>\r\n          </div>\r\n          <form className=\"form-add-comment\" onSubmit={handleCommentSubmission}>\r\n            <div className=\"form-group form-group-with-icon\">\r\n              <i className=\"fa fa-user\"></i>\r\n              <input className=\"form-control\" placeholder=\"Your Name\" name=\"name\" required />\r\n              <div className=\"form-control-border\"></div>\r\n            </div>\r\n            <div className=\"form-group form-group-with-icon\">\r\n              <i className=\"fa fa-comment\"></i>\r\n              <textarea className=\"form-control\" placeholder=\"Message\" name=\"message\" required></textarea>\r\n              <div className=\"form-control-border\"></div>\r\n            </div>\r\n            <button className=\"button\" type=\"submit\">Add comment</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n","import { useParams } from 'react-router-dom'\r\nimport Dashboard from \"../components/Dashboard\"\r\nimport useFetch from '../hooks/useFetch'\r\nimport { URL } from '../utility/Constants';\r\n\r\nexport default function Category() {\r\n  const qs = require('qs');\r\n  const query = qs.stringify({\r\n    populate: {\r\n      reviews: {\r\n        populate: '*',\r\n      }\r\n    }\r\n  }, {\r\n    encodeValuesOnly: true,\r\n  });\r\n\r\n  const { id } = useParams()\r\n\r\n  const { loading, error, data } = useFetch(`${URL}/api/categories/${id}?${query}`)\r\n\r\n  if (loading) return <p>Loading...</p>\r\n\r\n  if (error) return <p>Error :(</p>\r\n\r\n  return <Dashboard data={data.attributes.reviews.data} />\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport useFetch from '../hooks/useFetch'\r\nimport { URL } from '../utility/Constants';\r\n\r\nconst SiteHeader = () => {\r\n\r\n  const { loading, error, data } = useFetch(`${URL}/api/categories`)\r\n\r\n  if (loading) return <p>Loading...</p>\r\n  if (error) return <p>Error :(</p>\r\n\r\n  return (\r\n    <div className=\"site-header\">\r\n      <Link to=\"/\"><h1>Learn Strapi With Ethan</h1></Link>\r\n\r\n      {<nav className=\"categories\">\r\n        <span>Filter reviews by category:</span>\r\n\r\n        {data.map(category =>\r\n        (<Link key={category.id} to={`/category/${category.id}`}>\r\n          {category.attributes.name}\r\n        </Link>)\r\n        )}\r\n      </nav>}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SiteHeader;","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\n\r\nimport Homepage from './pages/Homepage'\r\nimport ReviewDetails from './pages/ReviewDetails'\r\nimport Category from './pages/Category'\r\nimport SiteHeader from './components/SiteHeader';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <SiteHeader />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Homepage />\r\n          </Route>\r\n          <Route path=\"/details/:id\">\r\n            <ReviewDetails />\r\n          </Route>\r\n          <Route path=\"/category/:id\">\r\n            <Category />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { applyPolyfills, defineCustomElements } from 'ethan-reusable-components/loader';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\napplyPolyfills().then(() => {\r\n  defineCustomElements(window);\r\n});"],"sourceRoot":""}