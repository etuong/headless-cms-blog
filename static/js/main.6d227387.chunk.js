(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{55:function(e,t,a){},80:function(e,t){},82:function(e,t,a){var c={"./my-rating-component.entry.js":[84,4]};function s(e){if(!a.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],s=t[0];return a.e(t[1]).then((function(){return a(s)}))}s.keys=function(){return Object.keys(c)},s.id=82,e.exports=s},83:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),r=a(42),n=a.n(r),i=(a(55),a(13)),o=a(4),d=a(0);function l(){return Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("p",{children:Object(d.jsx)("b",{children:"This web app works in conjunction with Strapi to create a full stack blogging website."})}),Object(d.jsx)("p",{children:"Strapi is a headless CMS (Content Management System). It is useful to rapidly create artifacts and assets in a content registry that can easily be pulled using RESTful API or GraphQL."}),Object(d.jsx)("p",{children:"Traditionally, we have CMS like Wordpress that requires a database to store content and there's also a presentation layer of template files that mix HTML with template tags."}),Object(d.jsx)("p",{children:"In this type of architecture, the frontend and backend are tighly coupled. Both the content and how it's presented are part of the same code base (aka monolithic architecture)."}),Object(d.jsxs)("p",{children:["You can create blogging contents on my \xa0",Object(d.jsx)("a",{href:"https://ethan-strapi.herokuapp.com/admin/",target:"_blank",rel:"noreferrer",children:"Strapi server"})," ","\xa0and use my dummy credentials to log in"]}),Object(d.jsx)("pre",{children:Object(d.jsxs)("code",{children:["Email: email@email.com",Object(d.jsx)("br",{}),"Password: Password1"]})}),Object(d.jsx)("p",{children:"To consume data from Strapi and blog here on this client, you'll need to create contents in the admin panel under Content Manager."})]})}var j=a(12),b=a(3),u=a(16),h=a(9),m=a(47),O=function(e){var t=Object(c.useState)(null),a=Object(h.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(null),i=Object(h.a)(n,2),o=i[0],d=i[1],l=Object(c.useState)(!0),b=Object(h.a)(l,2),m=b[0],O=b[1];return Object(c.useEffect)((function(){var t=function(){var t=Object(u.a)(Object(j.a)().mark((function t(){var a,c;return Object(j.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.prev=1,t.next=4,fetch(e);case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,r(c.data),O(!1),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),d(t.t0),O(!1);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),{loading:m,error:o,data:s}};a(57).config({path:".env.".concat("production")});var p="https://ethan-strapi.herokuapp.com";function x(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),a=t[0],s=t[1],r=Object(o.f)().id,n=O("".concat(p,"/api/reviews/").concat(r,"?populate=*")),i=n.loading,l=n.error,x=n.data;if(Object(c.useEffect)((function(){x&&x.attributes.comments&&s(x.attributes.comments.data)}),[x]),i)return Object(d.jsx)("p",{children:"Loading..."});if(l)return Object(d.jsx)("p",{children:"Error :("});var f=function(){var e=Object(u.a)(Object(j.a)().mark((function e(t){var c,n,i,o;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,c=t.currentTarget,n=c.elements,e.next=6,fetch("".concat(p,"/api/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{author:n.name.value,message:n.message.value,review:r}})});case 6:if(200!==(i=e.sent).status){e.next=13;break}return e.next=10,i.json();case 10:o=e.sent,s([].concat(Object(b.a)(a),[o.data])),c.reset();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"content-area",children:[Object(d.jsx)("div",{className:"blog-post-main-image",children:Object(d.jsx)("img",{className:"post-image img-responsive",src:"".concat(x.attributes.image.data.attributes.url),alt:""})}),Object(d.jsxs)("div",{className:"blog-post-content",children:[Object(d.jsx)("h1",{children:x.attributes.title}),Object(d.jsxs)("div",{className:"entry-meta",children:[Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"fa fa-fw fa-clock"}),"".concat(new Date(x.attributes.updatedAt))]}),Object(d.jsx)("span",{className:"divider",children:"|"}),Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"fa fa-fw fa-user"}),x.attributes.author]})]}),Object(d.jsxs)("div",{className:"entry-meta",children:["Rating:"," ",Object(d.jsx)("my-rating-component",{maxstars:"10",rating:x.attributes.rating,color:"red",class:"ratings"})]}),Object(d.jsx)(m.a,{children:x.attributes.body}),Object(d.jsxs)("div",{className:"post-comments",children:[Object(d.jsx)("div",{className:"block-title",children:Object(d.jsxs)("h3",{children:["Comments (",a.length,")"]})}),a.map((function(e,t){return Object(d.jsx)("div",{className:"media",children:Object(d.jsxs)("div",{className:"media-body",children:[Object(d.jsxs)("div",{className:"media-heading",children:[e.attributes.author,Object(d.jsx)("span",{className:"divider",children:"|"})," ",Object(d.jsx)("span",{className:"light-gray",children:"".concat(new Date(e.attributes.updatedAt).toString().split(" ").slice(0,5).join(" "))})]}),Object(d.jsx)("p",{children:e.attributes.message})]})},t)}))]}),Object(d.jsxs)("div",{className:"post-comment-add",children:[Object(d.jsx)("div",{className:"block-title",children:Object(d.jsx)("h3",{children:"Leave a Comment"})}),Object(d.jsxs)("form",{className:"form-add-comment",onSubmit:f,children:[Object(d.jsxs)("div",{className:"form-group form-group-with-icon",children:[Object(d.jsx)("i",{className:"fa fa-user"}),Object(d.jsx)("input",{className:"form-control",placeholder:"Your Name",name:"name",required:!0}),Object(d.jsx)("div",{className:"form-control-border"})]}),Object(d.jsxs)("div",{className:"form-group form-group-with-icon",children:[Object(d.jsx)("i",{className:"fa fa-comment"}),Object(d.jsx)("textarea",{className:"form-control",placeholder:"Message",name:"message",required:!0}),Object(d.jsx)("div",{className:"form-control-border"})]}),Object(d.jsx)("button",{className:"button",type:"submit",children:"Add comment"})]})]})]})]})}var f=function(e){return Object(d.jsx)("div",{className:"container",children:e.data&&e.data.map((function(e){return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"card__header",children:Object(d.jsx)("img",{src:"".concat(e.attributes.image.data.attributes.url),alt:""})}),Object(d.jsxs)("div",{className:"card__body",children:[Object(d.jsx)("div",{children:e.attributes.categories.data.map((function(e,t){return Object(d.jsx)("span",{className:"tag tag-red",children:e.attributes.name},t)}))}),Object(d.jsx)("h4",{children:e.attributes.title}),Object(d.jsxs)("p",{children:[e.attributes.body.substring(0,200),"..."]}),Object(d.jsx)(i.b,{to:"/details/".concat(e.id),children:"Read more"})]}),Object(d.jsx)("div",{className:"card__footer",children:Object(d.jsxs)("div",{className:"user",children:[Object(d.jsx)("img",{src:"".concat(e.attributes.avatar.data.attributes.url),className:"user__image",width:"40",height:"40",alt:""}),Object(d.jsxs)("div",{className:"user__info",children:[Object(d.jsx)("h5",{children:e.attributes.author}),Object(d.jsx)("small",{children:(t=e.attributes.updatedAt,new Date(t).toLocaleString().split(",")[0])})]})]})})]},e.id);var t}))})};function g(){var e=a(70).stringify({populate:{reviews:{populate:"*"}}},{encodeValuesOnly:!0}),t=Object(o.f)().id,c=O("".concat(p,"/api/categories/").concat(t,"?").concat(e)),s=c.loading,r=c.error,n=c.data;return s?Object(d.jsx)("p",{children:"Loading..."}):r?Object(d.jsx)("p",{children:"Error :("}):Object(d.jsx)(f,{data:n.attributes.reviews.data})}var v=function(){var e=O("".concat(p,"/api/categories")),t=e.loading,a=e.error,c=e.data;return t?Object(d.jsx)("p",{children:"Loading..."}):a?Object(d.jsx)("p",{children:"Error :("}):Object(d.jsxs)("div",{className:"site-header",children:[Object(d.jsx)(i.b,{to:"/",children:Object(d.jsx)("h1",{children:"Strapi Blogging"})}),Object(d.jsxs)("nav",{className:"categories",children:[Object(d.jsx)(i.b,{to:"/dashboard",className:"dashboard",children:"Dashboard"}),Object(d.jsx)("span",{children:"Filter reviews by category:"}),c.map((function(e){return Object(d.jsx)(i.b,{to:"/category/".concat(e.id),children:e.attributes.name},e.id)}))]})]})};function N(){var e=O("".concat(p,"/api/reviews?populate=*")),t=e.loading,a=e.error,c=e.data;return t?Object(d.jsx)("p",{children:"Loading..."}):a?Object(d.jsx)("p",{children:"Error :("}):Object(d.jsx)(f,{data:c})}var y=function(){return Object(d.jsx)(i.a,{basename:"/headless-cms-blog",children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(v,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",children:Object(d.jsx)(l,{})}),Object(d.jsx)(o.a,{path:"/dashboard",children:Object(d.jsx)(N,{})}),Object(d.jsx)(o.a,{path:"/details/:id",children:Object(d.jsx)(x,{})}),Object(d.jsx)(o.a,{path:"/category/:id",children:Object(d.jsx)(g,{})})]})]})})},w=a(39);n.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),Object(w.a)().then((function(){Object(w.b)(window)}))}},[[83,2,3]]]);
//# sourceMappingURL=main.6d227387.chunk.js.map